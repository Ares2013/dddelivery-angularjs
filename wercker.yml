box: wercker/nodejs

build:
    steps:
      - script:
          name: install bower
          code: sudo npm install -g bower
      - script:
          name: install bower dependencies
          code: bower install

deploy :
  steps :
    - script:
          name: install bower
          code: sudo npm install -g bower
    - script:
          cwd: $WERCKER_OUTPUT_DIR
          name: install bower dependencies
          code: bower install
    - script:
        name: configure git
        code: |-
          git config --global user.email "ninjasinventedphysics@gmail.com"
          git config --global user.name "Marcus Olsson"

          # remove current .git folder
          rm -rf .git
    - script:
        name: deploy to github pages
        code: |-
          git init
          git add .
          git commit -m "deploy commit from $WERCKER_STARTED_BY"
          git push -f $GIT_REMOTE master:gh-pages